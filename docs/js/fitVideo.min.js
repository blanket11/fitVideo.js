"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,i){for(var t=0;t<i.length;t++){var s=i[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(i,t,s){return t&&e(i.prototype,t),s&&e(i,s),i}}(),FitVideo=function(){function e(i){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,e),this.target=document.querySelectorAll(i),this.options=s,this.$video=null,this.params={self:null,viewSize:{},drowSize:{sw:0,sh:0,dx:0,dy:0,dw:0,dh:0}},this.options=$.extend({size:{width:1280,height:720}},s),this._loopHandler=function(){for(var e=0;e<t.target.length;e++){var i=t.target[e];t.params.self=i,t.video=i.getElementsByTagName("video"),t._setSize(),t._applySize()}},this._setEvent()}return _createClass(e,[{key:"_setEvent",value:function(){window.addEventListener("load",this._loopHandler),window.addEventListener("resize",this._loopHandler)}},{key:"_setSize",value:function(){var e=Math.ceil(this.params.self.clientWidth),i=Math.ceil(this.params.self.clientHeight),t=i/this.options.size.height,s=e/this.options.size.width;this.params.viewSize={width:e,height:i,scale:t,marginWidth:(this.options.size.width*t-e)/2,marginHeight:(this.options.size.height*s-i)/2},this.params.drowSize.sw=this.options.size.width,this.params.drowSize.sw=this.options.size.height,e>this.options.size.width*t?(this.params.viewSize.scale=s,this.params.drowSize.dx=0,this.params.drowSize.dy=-this.params.viewSize.marginHeight,this.params.drowSize.dw=this.params.viewSize.width,this.params.drowSize.dh=this.options.size.height*this.params.viewSize.scale):(this.params.viewSize.scale=t,this.params.drowSize.dx=-this.params.viewSize.marginWidth,this.params.drowSize.dy=0,this.params.drowSize.dw=this.options.size.width*this.params.viewSize.scale,this.params.drowSize.dh=this.params.viewSize.height)}},{key:"_applySize",value:function(){for(var e=0;e<this.video.length;e++){var i=this.video[e];i.style.width=this.params.drowSize.dw+"px",i.style.height=this.params.drowSize.dh+"px",i.style.marginTop=this.params.drowSize.dy+"px",i.style.marginLeft=this.params.drowSize.dx+"px"}}},{key:"_resetSize",value:function(){this.video=this.params.self.getElementsByTagName("video");for(var e=0;e<this.video.length;e++){var i=this.video[e];i.style.width="",i.style.height="",i.style.marginTop="",i.style.marginLeft=""}}},{key:"_cancelEvent",value:function(){window.removeEventListener("load",this._loopHandler),window.removeEventListener("resize",this._loopHandler)}},{key:"destroy",value:function(){this._cancelEvent();for(var e=0;e<this.target.length;e++){var i=this.target[e];this.params.self=i,this.video=i.getElementsByTagName("video"),this._resetSize()}}}]),e}();